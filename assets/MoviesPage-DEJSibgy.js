import{R as N,r as i,M as y,j as e,k as M,l as k,C,L as S,F as w}from"./index-B6ZCr7hT.js";import{L}from"./Layout-DCrRpl6V.js";const D=N.memo(({Movies:u})=>{const{setSelectedItems:o,selectedItems:l,RatesData:x,TimesData:g,YearData:p,HandleGetSelected:h,userChoice:f}=i.useContext(y),[b,d]=i.useState(null),[t,a]=i.useState(!1),n=[{id:1,items:C},{id:2,items:p},{id:3,items:g},{id:4,items:x}];i.useEffect(()=>{console.log("flter",f)},[f]);const c=s=>{b===s?(d(null),a(!1)):(d(s),a(!0))},v=(s,m)=>{o(r=>({...r,[s]:m})),h(s,m)};return e.jsx("div",{className:"my-6 bg-dry border text-dryGray border-gray-800 grid md:grid-cols-4 grid-cols-2 lg:gap-12 gap-2 rounded p-6",children:n.map(s=>{var m;return e.jsxs("div",{onClick:()=>c(s.id),children:[e.jsxs("div",{className:"relative w-full flex items-center cursor-pointer border-gray-800 text-white px-4 py-2 text-left bg-main rounded-lg focus:outline-none focus:ring-1 focus:border-dry",children:[e.jsx("span",{className:"block font-semibold",children:l[s.id]?(m=s.items.find(r=>r.id===l[s.id]))==null?void 0:m.tittle:s.items[0].name}),e.jsx("span",{className:"absolute right-2 flex items-center",children:e.jsx(M,{className:"h-5 w-5","aria-hidden":"true"})})]}),e.jsx("div",{className:`${b===s.id?`${t?"block":"hidden"}`:"hidden"} relative`,children:e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-drkb2 flex flex-col gap-2 pl-4 border border-gray-800 text-dryGray rounded-md shadow-lg max-h-60 py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm-text-sm",children:s.items.map((r,j)=>e.jsxs("div",{onClick:()=>{j!==0&&v(s.id,r.id)},className:`relative w-full flex justify-start items-center gap-2 hover:bg-white hover:text-dry transi py-1 cursor-pointer ${l[s.id]===r.id?"font-bold":""}`,children:[e.jsx("span",{children:l[s.id]===r.id&&j!==0&&e.jsx(k,{className:"h-4 w-4"})}),e.jsx("span",{className:"truncate font-semibold",children:r.tittle})]},r.id))})})]},s.id)})})}),R=()=>{const{userChoice:u,Movies:o}=i.useContext(y),l=10,[x,g]=i.useState(l),[p,h]=i.useState(!1),f=()=>{h(!0),g(x+l)},d=!u||Object.keys(u).length===0?o:o.filter(t=>{let a=!0;for(const[n,c]of Object.entries(u))(n==="1"&&t.category!==c||n==="2"&&t.approxiY!==c||n==="3"&&t.approxiT!==c||n==="4"&&t.approxiR!==c)&&(a=!1);return a});return e.jsx(L,{children:e.jsxs("div",{className:"px-2 my-6",children:[e.jsx(D,{Movies:o}),e.jsxs("p",{className:"text-lg font-medium my-6",children:["Total items found",e.jsxs("span",{className:"font-bold text-subMain rounded-lg",children:[" ",d.length]})]}),e.jsx("div",{className:"grid sm:mt-10 mt-6 xl:grid-cols-4 2xl:grid-cols-5 lg:grid-cols-3 sm:grid-cols-1 gap-6",children:d.slice(0,x).map((t,a)=>e.jsx(S,{to:`/stream/movie/${t.id}`,className:"border h-64 border-border rounded bg-center bg-cover transi hover:scale-95 w-full relative",style:{backgroundImage:`url('./images/${t.image}.jpg')`},children:e.jsxs("div",{className:"absolute flex  justify-between items-center left-0 bottom-0 bg-main2 w-full text-white px-4 py-3",children:[e.jsx("h3",{className:"font-semibold truncate",children:t.name}),e.jsx("button",{className:"h-8 w-8 text-sm flexCol transi hover:bg-transparent border-subMain bg-subMain2 border-2 rounded-md text-white ",children:e.jsx(w,{})})]})},`${t.id}`))}),e.jsx("div",{className:" my-10 md:my-16 flex justify-center items-center w-full",children:e.jsx("span",{onClick:f,className:" border-2 flex justify-center items-center gap-2 rounded-md cursor-pointer border-subMain py-3 px-8",children:"LoadMore"})})]})})};export{R as default};
