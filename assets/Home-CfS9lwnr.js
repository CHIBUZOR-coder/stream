import{R as f,r as n,M as x,j as e,L as u,F as m,B as j,a as N,b as w,c as v,d as y,e as M,f as C,g as S}from"./index-B1U6WZZ4.js";import{S as h,A as b,a as g,F as k,N as P,b as B}from"./Star-DQdz2qlQ.js";import"./index-BnE-GWZX.js";const F=f.memo(({setShareOpen:d})=>{const{Movies:l,AddToCart:a,FetchedMovies:r}=n.useContext(x),i=s=>[...s].sort(()=>Math.random()-.5),c=JSON.parse(localStorage.getItem("userInfo")),o=s=>{s.preventDefault(),c.subscription!=="SUBSCRIBED"?d(t=>!t):navigate(`/stream/watch/${movie.name}`)};return i(l),e.jsx("div",{className:"relative w-full",children:e.jsx(h,{direction:"vertical",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,lazy:"true",loop:!0,speed:1e3,modules:[b],autoplay:{delay:5e3,disableOnInteraction:!1},className:"w-full h-72  lg:h-72 xl:h-96 bg-dry",children:r&&r.map(s=>e.jsxs(g,{loading:"lazy",className:"bg-center  bg-cover relative overflow-hidden rounded",children:[e.jsx("img",{src:`${s.image}`,className:"w-full h-full object-cover",alt:""}),e.jsx("div",{className:"absolute w-full h-full linearbg top-0 ",children:e.jsxs("div",{className:"absolute top-[45%] md:top-[20%] left-[5%] flex flex-col gap-2",children:[e.jsx("h1",{className:"xl:text-4xl truncate names capitalize font-sans sm:text-2xl text-xl font-bold",children:s.name}),e.jsx(k,{movie:s}),e.jsxs("div",{className:" flex items-center gap-4 mt-4",children:[e.jsx(u,{onClick:t=>o(t),className:"bg-subMain hover:text-main transi hover:bg-white text-white px-8 py-3 rounded font-medium names",to:`${c&&c.subscription==="SUBSCRIBED"?`/stream/watch/${s.name}`:""}`,children:"watch"}),e.jsx("span",{onClick:()=>a(s,s.id),className:"bg-white flex justify-center cursor-pointer items-center hover:text-subMain transi text-white px-3 py-3 rounded bg-opacity-30 ",children:e.jsx(m,{})})]})]})})]},s.id))})})}),$=()=>{const{AddToCart:d,FetchedMovies:l}=n.useContext(x);(l||[]).filter(s=>s.popular===!0);const[a,r]=n.useState(1),i=10,c=l&&Math.ceil(l.length/i),o=n.useMemo(()=>(l||[]).slice((a-1)*i,a*i),[l,a]);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex w-full sm:gap-5 gap-4 items-center my-14",children:[e.jsx(j,{className:"sm-h-6  sm-w-6 h-4 w-4  text-subMain"}),e.jsx("h2",{className:"sm-text-xl text-lg font-bold",children:"Popular Movies"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3  xl:grid-cols-4  w-full gap-8",children:o.map(s=>e.jsxs("div",{className:"border-2 relative border-border rounded bg-center bg-cover transi hover:scale-95 w-full flex flex-col ",children:[e.jsx(u,{to:`/stream/movie/${s.id}`,className:" h-64  bg-center bg-cover ",children:e.jsx("img",{src:`${s.image}`,loading:"lazy",className:"w-full h-full object-cover",alt:""})}),e.jsxs("div",{className:"flex absolute bottom-0  justify-between items-center  bg-trans2 w-full text-white px-4 py-3",children:[e.jsx("h3",{className:"font-semibold truncate",children:s.name}),e.jsx("button",{onClick:()=>{console.log("cartt",s.id),d(s,s.id)},className:"h-8 w-8 text-sm flexCol transi hover:bg-transparent border-subMain bg-subMain2 border-2 rounded-md text-white ",children:e.jsx(m,{})})]})]},`${s.id}`))}),e.jsxs("div",{className:"flex justify-center gap-2 my-10",children:[e.jsx("button",{disabled:a===1,onClick:()=>r(s=>s-1),className:`px-4 py-2 rounded ${a===1?"bg-gray-400 text-white":"bg-subMain text-white"}`,children:"Previous"}),e.jsx("button",{disabled:a===c,onClick:()=>r(s=>s+1),className:`px-4 py-2 rounded ${a===c?"bg-gray-400 text-white":"bg-subMain text-white"}`,children:"Next"})]})]})},R=()=>e.jsx("div",{className:"w-full my-20 py-10 md:px-[3.4rem] px-2 bg-dry",children:e.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-10  items-center",children:[e.jsxs("div",{className:"flex lg:gap-10 gap-6 flex-col    ",children:[e.jsx("h1",{className:"xl-text-3xl text-xl capitalize font-sans font-medium xl:leading-loose",children:"Download Movies & Watch Offline On Mobile"}),e.jsx("p",{className:"text-text text-sm  xl:text-base leading-6 xl:leading-8",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi in laudantium culpa corporis nostrum laboriosam vitae consectetur nisi dicta totam? Lorem ipsum dolor sit amet consectetur, adipisicing elit."}),e.jsxs("div",{className:"flex gap-4 md:text-lg text-sm",children:[e.jsx("div",{className:"flex-col bg-black text-subMain px-5 py-3 rounded-md font-bold",children:"HD 4K"}),e.jsxs("div",{className:" flexRow gap-4 bg-black text-subMain px-5 py-3 rounded-md font-bold",children:[e.jsx(N,{})," 2K"]})]})]}),e.jsx("div",{className:" bg-center bg-cover rounded md:my-0 my-8 w-full h-96 ",style:{backgroundImage:"url('./images/phone2.jpg')"}})]})}),O=()=>{const[d,l]=n.useState(null),[a,r]=n.useState(null),{Ratingss:i,FetchedMovies:c,AddToCart:o}=n.useContext(x),s="hover:bg-dry transi text-sm rounded w-8 h-8 flex flex-col justify-center items-center bg-subMain text-white";return n.memo(()=>e.jsx(w,{})),e.jsxs("div",{className:"my-16",children:[e.jsxs("div",{className:"flex font-bold gap-4 my-6 items-center ",children:[e.jsx(v,{className:"text-subMain"}),e.jsx("p",{className:" font bold",children:"Top Rated"})]}),e.jsxs("div",{children:[e.jsx(h,{navigation:{nextEl:d,prevEl:a},slidesPerView:4,spaceBetween:40,autoplay:!0,speed:1e3,modules:[P,b],breakpoints:{0:{slidesPerView:1},400:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4},1280:{slidesPerView:5,spaceBetween:30}},children:c&&c.map(t=>e.jsx(g,{children:e.jsxs("div",{className:" h-rate border border-border bg-cover bg-center",children:[e.jsx("img",{src:`${t==null?void 0:t.image}`,loading:"lazy",className:"w-full h-full object-cover ",alt:""}),e.jsx("div",{className:" gap-6 hovered   absolute bg-blacktrans h-full w-full   left-0 right-0 bottom-0",children:e.jsxs("div",{className:"w-full hovers  bg-black bg-opacity-60 object-cover  flex flex-col relative justify-center gap-5 items-center h-full",children:[e.jsx("button",{onClick:p=>{p.preventDefault(),o(t,t.id)},className:"w-12 h-12 flex  justify-center items-center transi hover:bg-subMain rounded-full bg-white bg-opacity-30  text-white",children:e.jsx(m,{})}),e.jsx(u,{to:`${t==null?void 0:t.name}`,className:" text-center font-semibold text-xl line-clamp-2",children:t==null?void 0:t.name}),e.jsx("div",{className:"flex  gap-2 text-star ",children:e.jsx(B,{value:t==null?void 0:t.rating})})]})})]})},t.id))}),e.jsxs("div",{className:"w-full px-1 flex gap-6 pt-12  justify-center",children:[e.jsx("button",{className:s,ref:t=>r(t),children:e.jsx(y,{})}),e.jsx("button",{className:s,ref:t=>l(t),children:e.jsx(M,{})})]})]})]})},V=()=>{const[d,l]=n.useState(!1),{HandleSubscribe:a}=n.useContext(x),r=JSON.parse(localStorage.getItem("userInfo"));return e.jsx("div",{children:e.jsx(C,{children:e.jsxs("div",{className:"min-h-screen px-5 relative",children:[e.jsxs("div",{className:` ${d?"":"hidden"}  absolute  top-0 left-0 z-50   w-full h-full bg-main2 flex justify-center items-center `,children:[e.jsx("span",{onClick:()=>l(i=>!i),className:"rounded-full fixed top-[25%]  md:right-[25%] lg:right-[20%] right-[8%] border-2 h-14 w-14 border-subMain hover:text-subMain text-white transi hover:border-white hover:rotate-180 flex justify-center items-center",children:e.jsx(S,{className:"h-12 w-12"})}),e.jsxs("div",{className:"  fixed top-[40%] flexCol gap-6  py-5 subscribe  px-4 bg-main rounded-md  justify-center  border border-border ",children:[e.jsx("div",{className:"w-1/2 flex justify-center item-center gap-2",children:e.jsx("h1",{className:"text-2xl font-bold",children:"ðŸ¤–Opps!"})}),e.jsxs("p",{className:"font-semibold text-text subscribe",children:["Only a valid and subscribed user can stream live. Signup or login if you are already a user.",e.jsx("span",{className:"font-semibold text-text text-center",children:"Please subscribe to enjoy our services."})]}),e.jsx("button",{onClick:i=>a(i,r&&r.email),className:"bg-subMain2 text-white rounded-md border-2 border-subMain transi mt-3 hover:bg-main p-2 animate-bounce hover:animate-none ",children:r?"Subscribe":"Login"})]})]}),e.jsx(F,{setShareOpen:l}),e.jsx($,{}),e.jsx(R,{}),e.jsx(O,{})]})})})};export{V as default};
